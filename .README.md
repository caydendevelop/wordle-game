# Multiplayer Wordle Game 🎮

A modern implementation of the popular Wordle game with multiplayer functionality, built with React TypeScript frontend and Spring Boot backend. Challenge your friends to guess the daily word faster than them!

## 🌟 Features

- **Single Player Mode**: Classic Wordle experience with unlimited games
- **Multiplayer Mode**: Compete with friends in real-time rooms
- **Real-time Updates**: HTTP polling-based live updates for multiplayer games
- **Room Management**: Create and join game rooms with up to 4 players
- **Player Rankings**: See who guesses the word first and track scores
- **Responsive Design**: Clean, modern UI that works on all devices
- **Automatic Cleanup**: Inactive player detection and room management

## 🎯 Game Rules

Players have **6 attempts** to guess a **5-letter word**[1]. After each guess, you receive feedback through colored tiles:

- **🟩 Green**: Letter is correct and in the right position
- **🟨 Yellow**: Letter is in the word but in the wrong position  
- **⬜ Gray**: Letter is not in the word

In multiplayer mode, the first player to guess correctly wins the round!

## 🏗️ Project Structure

```
wordle/
├── wordle-server/          # Spring Boot backend
│   ├── src/main/java/
│   └── pom.xml
├── wordle-client/          # React TypeScript frontend
│   ├── src/
│   ├── package.json
│   └── vite.config.ts
├── start-wordle.sh         # Startup script
└── README.md
```

## 🚀 Quick Start with start-wordle.sh

The `start-wordle.sh` script automatically starts all services needed for the game:

### Prerequisites

Before running the script, ensure you have:
- **Java 17 or above** - for the Java backend
- **Maven** (`mvn`) - for building and running the Spring Boot backend
- **Node.js v22 & npm v11 or above** - for the React frontend 
<!-- - **ngrok** - for creating public tunnels (optional, for external access) -->

### Using the Startup Script

1. **Make the script executable:**
   ```bash
   chmod +x start-wordle.sh
   ```

2. **Run the script inside the wordle-game directory**
   ```bash
   ./start-wordle.sh
   ```

### What the Script Does

The startup script performs the following actions:

1. **Prerequisites Check**: Verifies that Maven, npm, and ngrok are installed
2. **Spring Boot Backend**: Starts the server on port 8080
   - Logs: `~/wordle/wordle-server/spring-boot.log`
3. **React Frontend**: Starts the development server on port 3000
   - Logs: `~/wordle/wordle-client/react-dev.log`
<!-- 4. **ngrok Tunnel**: Creates a public URL for external access
   - Public URL: `https://select-woodcock-lately.ngrok-free.app`
   - Logs: `~/wordle/wordle-client/ngrok.log` -->

### Service URLs

After startup, you can access:
- **🎮 Game Interface**: http://localhost:3000
<!-- - **🌐 Public Access**: https://select-woodcock-lately.ngrok-free.app -->
- **🔧 Backend API**: http://localhost:8080
- **📊 API Health**: http://localhost:8080/api/wordle

### Stopping Services

Press `Ctrl+C` in the terminal running the script to gracefully shut down all services.

## 🔧 Manual Setup (Alternative)

If you prefer to start services manually:

### Backend (Spring Boot)
```bash
cd wordle-server
mvn clean install
mvn spring-boot:run
```

### Frontend (React)
```bash
cd wordle-client
npm install
npm run dev
```

## 📚 API Documentation

### Base URL
```
http://localhost:8080/api
```

### Single Player Endpoints

#### Create New Game
```http
POST /wordle/new-game?maxRounds=6
```
**Response:**
```json
{
  "gameId": "uuid",
  "currentRound": 0,
  "maxRounds": 6,
  "gameOver": false,
  "won": false,
  "guesses": []
}
```

#### Submit Guess
```http
POST /wordle/guess
Content-Type: application/json

{
  "gameId": "uuid",
  "guess": "CRANE"
}
```
**Response:**
```json
{
  "gameId": "uuid",
  "currentRound": 1,
  "gameOver": false,
  "won": false,
  "guesses": [
    [
      {"letter": "C", "status": "HIT"},
      {"letter": "R", "status": "PRESENT"},
      {"letter": "A", "status": "MISS"},
      {"letter": "N", "status": "MISS"},
      {"letter": "E", "status": "HIT"}
    ]
  ],
  "message": "Good guess!"
}
```

#### Get Game State
```http
GET /wordle/game/{gameId}
```

### Multiplayer Endpoints

#### Create Room
```http
POST /multiplayer/create-room
Content-Type: application/json

{
  "creatorId": "player123",
  "roomName": "My Game Room",
  "username": "Player Name",
  "maxPlayers": 4
}
```

#### Join Room
```http
POST /multiplayer/join-room
Content-Type: application/json

{
  "roomId": "ROOM123",
  "playerId": "player456",
  "username": "Another Player"
}
```

#### Start Game
```http
POST /multiplayer/start-game
Content-Type: application/json

{
  "roomId": "ROOM123"
}
```

#### Submit Multiplayer Guess
```http
POST /multiplayer/guess
Content-Type: application/json

{
  "roomId": "ROOM123",
  "playerId": "player123",
  "guess": "CRANE"
}
```

#### Get Room Status
```http
GET /multiplayer/room/{roomId}
```

#### Get Available Rooms
```http
GET /multiplayer/rooms
```

#### Player Heartbeat
```http
POST /multiplayer/heartbeat
Content-Type: application/json

{
  "playerId": "player123"
}
```

#### Leave Room
```http
POST /multiplayer/leave-room
Content-Type: application/json

{
  "roomId": "ROOM123",
  "playerId": "player123"
}
```

### Letter Status Values

- `HIT`: Letter is correct and in the right position (🟩)
- `PRESENT`: Letter is in the word but wrong position (🟨)
- `MISS`: Letter is not in the word (⬜)

### Room Status Values

- `WAITING`: Room is open for players to join
- `IN_PROGRESS`: Game is currently active
- `FINISHED`: Game has ended

## 🎮 How to Play

### Single Player
1. Navigate to the home page
2. Click "Single Player"
3. Start guessing 5-letter words
4. Use the feedback to narrow down your guesses
5. Try to guess the word in 6 attempts or less!

### Multiplayer
1. Navigate to "Multiplayer"
2. Enter your player ID
3. Either:
   - **Create a room** and wait for friends to join
   - **Join an existing room** from the available list
4. Wait for the host to start the game
5. Race against other players to guess the word first!
6. View final results and rankings

## 🔄 Real-time Updates

The multiplayer system uses **HTTP polling** for real-time updates:
- **Room list**: Updates every 3 seconds
- **Room status**: Updates every 2 seconds  
- **Game state**: Updates every 1 second
- **Player heartbeat**: Every 15 seconds

## 🛠️ Technologies Used

### Frontend
- **React 18** with TypeScript
- **Vite** for fast development and building
- **Axios** for HTTP requests
- **React Router** for navigation
- **CSS Modules** for styling

### Backend  
- **Spring Boot 3** with Java
- **Spring Web** for REST APIs
- **Spring Scheduling** for cleanup tasks
- **Maven** for dependency management
- **SLF4J** for logging

### DevOps
- **ngrok** for public tunnels
- **Bash** startup script
- **CORS** configuration for cross-origin requests

## 🐛 Troubleshooting

### Common Issues

1. **Port conflicts**: Ensure ports 3000 and 8080 are available
2. **Maven not found**: Install Maven or check PATH
3. **npm not found**: Install Node.js and npm
4. **ngrok not found**: Install ngrok or comment out that section in the script

### Logs Location
- Spring Boot: `~/wordle/wordle-server/spring-boot.log`
- React Dev Server: `~/wordle/wordle-client/react-dev.log`  
- ngrok: `~/wordle/wordle-client/ngrok.log`

### Debug Endpoints
- **Heartbeat Status**: `GET /api/multiplayer/debug/heartbeats`
- **Force Cleanup**: `POST /api/multiplayer/debug/force-cleanup`
- **All Rooms**: `GET /api/multiplayer/debug/rooms`

## 🤝 Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test thoroughly
5. Submit a pull request

## 📝 License

This project is open source and available under the [MIT License](LICENSE).

**Have fun playing Wordle with your friends!** 🎉


